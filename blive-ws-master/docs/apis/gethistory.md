# gethistory

## 接口地址

`https://api.live.bilibili.com/xlive/web-room/v1/dM/gethistory`

## 方法

`GET`

## 参数

### query

- roomid: 房间id

## 返回示例

```json
{
  "code": 0,
  "msg": "",
  "message": "",
  "data": {
    "admin": [],
    "room": [
      {
        "text": "123",
        "dm_type": 0,
        "uid": 549621446,
        "nickname": "bili_28350385046",
        "uname_color": "",
        "timeline": "2022-07-09 20:07:14",
        "isadmin": 0,
        "vip": 0,
        "svip": 0,
        "medal": [],
        "title": [
          "",
          ""
        ],
        "user_level": [
          0,
          0,
          9868950,
          "\u003e50000"
        ],
        "rank": 5000,
        "teamid": 0,
        "rnd": "1657368434069",
        "user_title": "",
        "guard_level": 0,
        "bubble": 0,
        "bubble_color": "",
        "lpl": 0,
        "yeah_space_url": "",
        "jump_to_url": "",
        "check_info": {
          "ts": 1657368434,
          "ct": "A5A016DD"
        },
        "voice_dm_info": {
          "voice_url": "",
          "file_format": "",
          "text": "",
          "file_duration": 0,
          "file_id": ""
        },
        "emoticon": {
          "id": 0,
          "emoticon_unique": "",
          "text": "",
          "perm": 0,
          "url": "",
          "in_player_area": 0,
          "bulge_display": 0,
          "is_dynamic": 0,
          "height": 0,
          "width": 0
        }
      },
      {
        "text": "hhh",
        "dm_type": 0,
        "uid": 549621446,
        "nickname": "bili_28350385046",
        "uname_color": "",
        "timeline": "2022-07-09 20:07:26",
        "isadmin": 0,
        "vip": 0,
        "svip": 0,
        "medal": [],
        "title": [
          "",
          ""
        ],
        "user_level": [
          0,
          0,
          9868950,
          "\u003e50000"
        ],
        "rank": 5000,
        "teamid": 0,
        "rnd": "1657368445987",
        "user_title": "",
        "guard_level": 0,
        "bubble": 0,
        "bubble_color": "",
        "lpl": 0,
        "yeah_space_url": "",
        "jump_to_url": "",
        "check_info": {
          "ts": 1657368446,
          "ct": "64998525"
        },
        "voice_dm_info": {
          "voice_url": "",
          "file_format": "",
          "text": "",
          "file_duration": 0,
          "file_id": ""
        },
        "emoticon": {
          "id": 0,
          "emoticon_unique": "",
          "text": "",
          "perm": 0,
          "url": "",
          "in_player_area": 0,
          "bulge_display": 0,
          "is_dynamic": 0,
          "height": 0,
          "width": 0
        }
      },
      {
        "text": "12",
        "dm_type": 0,
        "uid": 549621446,
        "nickname": "bili_28350385046",
        "uname_color": "",
        "timeline": "2022-07-09 20:08:39",
        "isadmin": 0,
        "vip": 0,
        "svip": 0,
        "medal": [],
        "title": [
          "",
          ""
        ],
        "user_level": [
          0,
          0,
          9868950,
          "\u003e50000"
        ],
        "rank": 5000,
        "teamid": 0,
        "rnd": "1657368518770",
        "user_title": "",
        "guard_level": 0,
        "bubble": 0,
        "bubble_color": "",
        "lpl": 0,
        "yeah_space_url": "",
        "jump_to_url": "",
        "check_info": {
          "ts": 1657368519,
          "ct": "98EBF220"
        },
        "voice_dm_info": {
          "voice_url": "",
          "file_format": "",
          "text": "",
          "file_duration": 0,
          "file_id": ""
        },
        "emoticon": {
          "id": 0,
          "emoticon_unique": "",
          "text": "",
          "perm": 0,
          "url": "",
          "in_player_area": 0,
          "bulge_display": 0,
          "is_dynamic": 0,
          "height": 0,
          "width": 0
        }
      },
      {
        "text": "message123",
        "dm_type": 0,
        "uid": 549621446,
        "nickname": "bili_28350385046",
        "uname_color": "",
        "timeline": "2022-07-09 20:12:12",
        "isadmin": 0,
        "vip": 0,
        "svip": 0,
        "medal": [],
        "title": [
          "",
          ""
        ],
        "user_level": [
          0,
          0,
          9868950,
          "\u003e50000"
        ],
        "rank": 5000,
        "teamid": 0,
        "rnd": "1657368732387",
        "user_title": "",
        "guard_level": 0,
        "bubble": 0,
        "bubble_color": "",
        "lpl": 0,
        "yeah_space_url": "",
        "jump_to_url": "",
        "check_info": {
          "ts": 1657368732,
          "ct": "338186BC"
        },
        "voice_dm_info": {
          "voice_url": "",
          "file_format": "",
          "text": "",
          "file_duration": 0,
          "file_id": ""
        },
        "emoticon": {
          "id": 0,
          "emoticon_unique": "",
          "text": "",
          "perm": 0,
          "url": "",
          "in_player_area": 0,
          "bulge_display": 0,
          "is_dynamic": 0,
          "height": 0,
          "width": 0
        }
      },
      {
        "text": "123",
        "dm_type": 0,
        "uid": 549621446,
        "nickname": "bili_28350385046",
        "uname_color": "",
        "timeline": "2022-07-09 20:18:04",
        "isadmin": 0,
        "vip": 0,
        "svip": 0,
        "medal": [],
        "title": [
          "",
          ""
        ],
        "user_level": [
          0,
          0,
          9868950,
          "\u003e50000"
        ],
        "rank": 5000,
        "teamid": 0,
        "rnd": "1657369084038",
        "user_title": "",
        "guard_level": 0,
        "bubble": 0,
        "bubble_color": "",
        "lpl": 0,
        "yeah_space_url": "",
        "jump_to_url": "",
        "check_info": {
          "ts": 1657369084,
          "ct": "57768ED3"
        },
        "voice_dm_info": {
          "voice_url": "",
          "file_format": "",
          "text": "",
          "file_duration": 0,
          "file_id": ""
        },
        "emoticon": {
          "id": 0,
          "emoticon_unique": "",
          "text": "",
          "perm": 0,
          "url": "",
          "in_player_area": 0,
          "bulge_display": 0,
          "is_dynamic": 0,
          "height": 0,
          "width": 0
        }
      },
      {
        "text": "123",
        "dm_type": 0,
        "uid": 549621446,
        "nickname": "bili_28350385046",
        "uname_color": "",
        "timeline": "2022-07-09 20:18:18",
        "isadmin": 0,
        "vip": 0,
        "svip": 0,
        "medal": [],
        "title": [
          "",
          ""
        ],
        "user_level": [
          0,
          0,
          9868950,
          "\u003e50000"
        ],
        "rank": 5000,
        "teamid": 0,
        "rnd": "1657369097871",
        "user_title": "",
        "guard_level": 0,
        "bubble": 0,
        "bubble_color": "",
        "lpl": 0,
        "yeah_space_url": "",
        "jump_to_url": "",
        "check_info": {
          "ts": 1657369098,
          "ct": "F52E82A7"
        },
        "voice_dm_info": {
          "voice_url": "",
          "file_format": "",
          "text": "",
          "file_duration": 0,
          "file_id": ""
        },
        "emoticon": {
          "id": 0,
          "emoticon_unique": "",
          "text": "",
          "perm": 0,
          "url": "",
          "in_player_area": 0,
          "bulge_display": 0,
          "is_dynamic": 0,
          "height": 0,
          "width": 0
        }
      },
      {
        "text": "123",
        "dm_type": 0,
        "uid": 549621446,
        "nickname": "bili_28350385046",
        "uname_color": "",
        "timeline": "2022-07-09 20:18:27",
        "isadmin": 0,
        "vip": 0,
        "svip": 0,
        "medal": [],
        "title": [
          "",
          ""
        ],
        "user_level": [
          0,
          0,
          9868950,
          "\u003e50000"
        ],
        "rank": 5000,
        "teamid": 0,
        "rnd": "1657369106905",
        "user_title": "",
        "guard_level": 0,
        "bubble": 0,
        "bubble_color": "",
        "lpl": 0,
        "yeah_space_url": "",
        "jump_to_url": "",
        "check_info": {
          "ts": 1657369107,
          "ct": "AC014B78"
        },
        "voice_dm_info": {
          "voice_url": "",
          "file_format": "",
          "text": "",
          "file_duration": 0,
          "file_id": ""
        },
        "emoticon": {
          "id": 0,
          "emoticon_unique": "",
          "text": "",
          "perm": 0,
          "url": "",
          "in_player_area": 0,
          "bulge_display": 0,
          "is_dynamic": 0,
          "height": 0,
          "width": 0
        }
      },
      {
        "text": "1",
        "dm_type": 0,
        "uid": 549621446,
        "nickname": "bili_28350385046",
        "uname_color": "",
        "timeline": "2022-07-09 20:18:59",
        "isadmin": 0,
        "vip": 0,
        "svip": 0,
        "medal": [],
        "title": [
          "",
          ""
        ],
        "user_level": [
          0,
          0,
          9868950,
          "\u003e50000"
        ],
        "rank": 5000,
        "teamid": 0,
        "rnd": "1657369139269",
        "user_title": "",
        "guard_level": 0,
        "bubble": 0,
        "bubble_color": "",
        "lpl": 0,
        "yeah_space_url": "",
        "jump_to_url": "",
        "check_info": {
          "ts": 1657369139,
          "ct": "4E2C8CD9"
        },
        "voice_dm_info": {
          "voice_url": "",
          "file_format": "",
          "text": "",
          "file_duration": 0,
          "file_id": ""
        },
        "emoticon": {
          "id": 0,
          "emoticon_unique": "",
          "text": "",
          "perm": 0,
          "url": "",
          "in_player_area": 0,
          "bulge_display": 0,
          "is_dynamic": 0,
          "height": 0,
          "width": 0
        }
      },
      {
        "text": "2",
        "dm_type": 0,
        "uid": 549621446,
        "nickname": "bili_28350385046",
        "uname_color": "",
        "timeline": "2022-07-09 20:19:12",
        "isadmin": 0,
        "vip": 0,
        "svip": 0,
        "medal": [],
        "title": [
          "",
          ""
        ],
        "user_level": [
          0,
          0,
          9868950,
          "\u003e50000"
        ],
        "rank": 5000,
        "teamid": 0,
        "rnd": "1657369151936",
        "user_title": "",
        "guard_level": 0,
        "bubble": 0,
        "bubble_color": "",
        "lpl": 0,
        "yeah_space_url": "",
        "jump_to_url": "",
        "check_info": {
          "ts": 1657369152,
          "ct": "8328CB93"
        },
        "voice_dm_info": {
          "voice_url": "",
          "file_format": "",
          "text": "",
          "file_duration": 0,
          "file_id": ""
        },
        "emoticon": {
          "id": 0,
          "emoticon_unique": "",
          "text": "",
          "perm": 0,
          "url": "",
          "in_player_area": 0,
          "bulge_display": 0,
          "is_dynamic": 0,
          "height": 0,
          "width": 0
        }
      },
      {
        "text": "2",
        "dm_type": 0,
        "uid": 549621446,
        "nickname": "bili_28350385046",
        "uname_color": "",
        "timeline": "2022-07-09 20:19:43",
        "isadmin": 0,
        "vip": 0,
        "svip": 0,
        "medal": [],
        "title": [
          "",
          ""
        ],
        "user_level": [
          0,
          0,
          9868950,
          "\u003e50000"
        ],
        "rank": 5000,
        "teamid": 0,
        "rnd": "1657369183355",
        "user_title": "",
        "guard_level": 0,
        "bubble": 0,
        "bubble_color": "",
        "lpl": 0,
        "yeah_space_url": "",
        "jump_to_url": "",
        "check_info": {
          "ts": 1657369183,
          "ct": "245DF3D8"
        },
        "voice_dm_info": {
          "voice_url": "",
          "file_format": "",
          "text": "",
          "file_duration": 0,
          "file_id": ""
        },
        "emoticon": {
          "id": 0,
          "emoticon_unique": "",
          "text": "",
          "perm": 0,
          "url": "",
          "in_player_area": 0,
          "bulge_display": 0,
          "is_dynamic": 0,
          "height": 0,
          "width": 0
        }
      }
    ]
  }
}
```

## 接口目的

获取历史弹幕数据

/**
 * id: JkDX
 * path: ./event-bus
 */

(function(require,module,exports) {
"use strict";var t,e=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},r=this&&this.__classPrivateFieldSet||function(t,e,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(t,r):o?o.value=r:e.set(t,r),r},n=this&&this.__spreadArray||function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventBus=void 0;var o=function(){function o(){var r=this;t.set(this,new Map),this.on=function(n,o){var i,a=null!==(i=e(r,t,"f").get(n))&&void 0!==i?i:new Set;return a.add(o),e(r,t,"f").has(n)||e(r,t,"f").set(n,a),function(){a.delete(o),0===a.size&&e(r,t,"f").delete(n)}},this.emit=function(n){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=e(r,t,"f").get(n);null!=a&&a.forEach(function(t){return t.apply(void 0,o)})}}return o.forwardEvent=function(t,e,r){var o=r.map(function(r){var o=Array.isArray(r)?r:[r,r],i=o[0],a=o[1];return t.on(i,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.emit.apply(e,n([a],t,!1))})});return function(){o.forEach(function(t){return t()})}},o.prototype.getHandlers=function(r){var n;return null!==(n=e(this,t,"f").get(r))&&void 0!==n?n:new Set},o.prototype.once=function(t,e){var r=this.on(t,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r(),e.apply(void 0,t)});return r},o.prototype.destroy=function(){r(this,t,new Map,"f")},o}();exports.EventBus=o,t=new WeakMap;
})()
/**
 * id: RYhb
 * path: ./wave-graph
 */

(function(require,module,exports) {
"use strict";var t,e,i,s,h,r,a,n=this&&this.__classPrivateFieldSet||function(t,e,i,s,h){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!h)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!h:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?h.call(t,i):h?h.value=i:e.set(t,i),i},o=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};Object.defineProperty(exports,"__esModule",{value:!0});var f=require("@bilibili-live/web-player-common"),p=function(){function p(o){t.set(this,0),e.set(this,0),i.set(this,[]),s.set(this,[]),h.set(this,0),r.set(this,0),a.set(this,0),n(this,t,o.width,"f"),n(this,e,o.height,"f"),this.initGraph()}return p.prototype.updateGraph=function(t){o(this,i,"f").shift(),o(this,i,"f").push(t),n(this,s,[],"f"),n(this,r,o(this,i,"f").length>0?Math.max.apply(this,o(this,i,"f")):1,"f");try{n(this,a,o(this,e,"f")/(o(this,r,"f")-o(this,h,"f")),"f")}catch(w){f.logger.error(w)}for(var p=0,c=o(this,i,"f").length;p<c;p++){var l=o(this,i,"f")[p];o(this,s,"f").push([2*p,o(this,e,"f")-(l-o(this,h,"f"))*o(this,a,"f")])}},p.prototype.getGraph=function(){for(var i="",h=o(this,s,"f"),r=0,a=h.length;r<a;r++)i+=h[r].join(",")+" ";return i.includes("NaN")&&(i="0"),'<svg width="'.concat(o(this,t,"f"),'" height="').concat(o(this,e,"f"),'" viewBox="0 0 ').concat(o(this,t,"f")," ").concat(o(this,e,"f"),'">\n                <g>\n                  <polyline stroke="white" fill="none" points="').concat(i,'">\n                  </polyline>\n                </g>\n              </svg>')},p.prototype.destroy=function(){n(this,i,[],"f"),n(this,s,[],"f"),n(this,h,0,"f"),n(this,r,0,"f"),n(this,a,0,"f"),this.initGraph()},p.prototype.initGraph=function(){for(var h=0,r=o(this,t,"f")/2;h<r;h++)o(this,i,"f").push(0),o(this,s,"f").push([2*h,o(this,e,"f")])},p}();t=new WeakMap,e=new WeakMap,i=new WeakMap,s=new WeakMap,h=new WeakMap,r=new WeakMap,a=new WeakMap,exports.default=p;
})()